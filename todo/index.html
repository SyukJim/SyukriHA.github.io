<html lang="en">
<head>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="script/day_left_calc.js"></script>
    <script src="script/autoRefresh.js"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do List</title>
</head>
<body>

    <style>
        #bottom-left{
            position: absolute;
            bottom: 0.5%;
            left: 1%;
        }
    </style>
    <br>
    <!-- <div class="container"> -->

        <h2>On Going Task</h2>
        <br>
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Task</th>
                    <th scope="col">Description</th>
                    <th scope="col">Deadline</th>
                    <th scope="col">Days Left</th>
                    <th scope="col">Status</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th scope="col">1</th>
                    <th scope="col">Finish Portfolio</th>
                    <th scope="col">Finish portfolio to be submitted to Pixelated staff</th>
                    <th scope="col">21 June 2023</th>
                    <th scope="col">Done</th>
                    <th scope="col">To be Submitted</th>
                </tr>
                <tr>
                    <th scope="col">2</th> <!--task id -->
                    <th scope="col">Prepare Presentation</th> <!--task name -->
                    <th scope="col">Presentation to be done to explain game concept</th> <!--task desc -->
                    <th scope="col">1 July 2023</th> <!--task dateline -->
                    <th scope="col"><script>document.write(days_left('2023-07-01'))</script></th> <!--task days left -->
                    <th scope="col">Done</th> <!--task status -->
                </tr>
                <tr>
                    <th scope="col">3</th> <!--task id -->
                    <th scope="col">DY Report</th> <!--task name -->
                    <th scope="col">Finish DY report II</th> <!--task desc -->
                    <th scope="col">31 July 2023</th> <!--task dateline -->
                    <th scope="col"><script>document.write(days_left('2023-07-31'))</script></th> <!--task days left -->
                    <th scope="col">On Going</th> <!--task status -->
                </tr>
                <tr>
                    <th scope="col">4</th> <!--task id -->
                    <th scope="col">DY Presentation</th> <!--task name -->
                    <th scope="col">Finish DY Slide II</th> <!--task desc -->
                    <th scope="col">31 July 2023</th> <!--task dateline -->
                    <th scope="col"><script>document.write(days_left('2023-07-31'))</script></th> <!--task days left -->
                    <th scope="col">On Going</th> <!--task status -->
                </tr>
                <tr>
                    <th scope="col">##</th> <!--task id -->
                    <th scope="col">Example task 2</th> <!--task name -->
                    <th scope="col">this is the task description</th> <!--task desc -->
                    <th scope="col">7 August 2023</th> <!--task dateline -->
                    <th scope="col"><script>document.write(days_left('2023-08-07'))</script></th> <!--task days left -->
                    <th scope="col">On Going</th> <!--task status -->
                </tr>
            </tbody>
        </table>
        <br>
        <h2>Finished Task</h2>

        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Task</th>
                    <th scope="col">Description</th>
                    <th scope="col">Deadline</th>
                    <th scope="col">Days Left</th>
                    <th scope="col">Status</th>
                </tr>
            </thead>
        </table>

        <p id="bottom-left">Refresh page in: <span id="countdown"></span> minutes</p>

        <!-- <button onclick="refreshPage()">Refresh</button> -->

        <script>

            function updateCountdown(){
                var now = new Date();
                var nextHour = new Date(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours() + 1, 0, 0);
                var timeUntilNextHour = nextHour - now;

                var minutesUntilNextHour = Math.ceil(timeUntilNextHour/60000);

                document.getElementById("countdown").textContent = minutesUntilNextHour;
            }

            updateCountdown();

            setInterval(updateCountdown, 1000);

            setTimeout(function(){
                location.reload();
            }, timeUntilNextHour);
        </script>

    <!-- </div> container -->
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    
</body>
</html>